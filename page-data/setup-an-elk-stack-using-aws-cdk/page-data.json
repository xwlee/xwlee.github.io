{
    "componentChunkName": "component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx",
    "path": "/setup-an-elk-stack-using-aws-cdk",
    "result": {"data":{"post":{"slug":"/setup-an-elk-stack-using-aws-cdk","title":"Setup an ELK stack using AWS CDK","date":"13.01.2022","tags":[{"name":"aws","slug":"aws"},{"name":"awscdk","slug":"awscdk"},{"name":"typescript","slug":"typescript"},{"name":"elasticsearch","slug":"elasticsearch"}],"description":null,"canonicalUrl":"https://xwlee.github.io/setup-an-elk-stack-using-cdk","body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Setup an ELK stack using AWS CDK\",\n  \"date\": \"2022-01-13T00:00:00.000Z\",\n  \"tags\": [\"aws\", \"awscdk\", \"typescript\", \"elasticsearch\"],\n  \"canonicalUrl\": \"https://xwlee.github.io/setup-an-elk-stack-using-cdk\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"Prerequisites\"), mdx(\"p\", null, \"Make sure you have installed \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Node.js\"), \" 10.13.0 or later.\"), mdx(\"p\", null, \"Make sure you have configured your workstation with your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"aws_access_key_id\"), \" & \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"aws_secret_access_key\"), \". If you have the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AWS CLI\"), \" installed, run the following command.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"# Provide your AWS access key ID, secret access key, and default region when prompted.\\naws configure\\n\")), mdx(\"p\", null, \"Make sure you have installed the AWS CDK Toolkit globally.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"npm install -g aws-cdk\\ncdk --version\\n\")), mdx(\"h2\", null, \"Initial Setup\"), mdx(\"p\", null, \"In this tutorial, we will use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TypeScript\"), \" for the demo.\"), mdx(\"p\", null, \"Let's initialize an empty AWS CDK project.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"mkdir cdk-elk && cd $_\\ncdk init app --language typescript\\n\")), mdx(\"p\", null, \"Run the following command to verify that everything works correctly.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"npm run cdk synth\\n\")), mdx(\"p\", null, \"This will output an empty CloudFormation template inside \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cdk.out\"), \" folder. You should see a file named \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CdkElkStack.template.json\"), \" created.\"), mdx(\"h2\", null, \"Boostraping\"), mdx(\"p\", null, \"Provision resources the AWS CDK needs to perform the deployment, e.g S3 bucket\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"cdk bootstrap\\n \\u23F3  Bootstrapping environment aws://111111111111/ap-southeast-1...\\nTrusted accounts for deployment: (none)\\nTrusted accounts for lookup: (none)\\nUsing default execution policy of 'arn:aws:iam::aws:policy/AdministratorAccess'. Pass '--cloudformation-execution-policies' to customize.\\n \\u2705  Environment aws://111111111111/ap-southeast-1 bootstrapped (no changes).\\n\")), mdx(\"h2\", null, \"Create an AWS Cognito User Pool\"), mdx(\"p\", null, \"Add an import statement at the beginning of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"lib/cdk-elk-stack.ts\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\",\n    \"metastring\": \"{3,9-25}\",\n    \"{3,9-25}\": true\n  }, \"import { Stack, StackProps } from \\\"aws-cdk-lib\\\";\\nimport { Construct } from \\\"constructs\\\";\\nimport * as cognito from \\\"aws-cdk-lib/aws-cognito\\\";\\n\\nexport class CdkElkStack extends Stack {\\n  constructor(scope: Construct, id: string, props?: StackProps) {\\n    super(scope, id, props);\\n\\n    const userPool = new cognito.UserPool(this, \\\"UserPool\\\", {\\n      userPoolName: `${Stack.of(this).stackName}UserPool`,\\n      autoVerify: {\\n        email: true,\\n      },\\n      standardAttributes: {\\n        email: {\\n          mutable: true,\\n          required: true,\\n        },\\n      },\\n    });\\n    userPool.addDomain(\\\"UserPoolDomain\\\", {\\n      cognitoDomain: {\\n        domainPrefix: \\\"cdk-elk\\\",\\n      },\\n    });\\n  }\\n}\\n\")), mdx(\"p\", null, \"A user pool is a user directory that stores your users that use to login to Kibana. We also need to specify the domain prefix for the Cognito login URL.\"), mdx(\"h2\", null, \"Create an AWS Cognito Identity Pool\"), mdx(\"p\", null, \"Note: Here we omitted the code to create user pool\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\",\n    \"metastring\": \"{11-41}\",\n    \"{11-41}\": true\n  }, \"import { Stack, StackProps } from \\\"aws-cdk-lib\\\";\\nimport { Construct } from \\\"constructs\\\";\\nimport * as cognito from \\\"aws-cdk-lib/aws-cognito\\\";\\n\\nexport class CdkElkStack extends Stack {\\n  constructor(scope: Construct, id: string, props?: StackProps) {\\n    super(scope, id, props);\\n\\n    // User pool ...\\n\\n    const identityPool = new cognito.CfnIdentityPool(this, \\\"IdentityPool\\\", {\\n      identityPoolName: `${Stack.of(this).stackName}IdentityPool`,\\n      allowUnauthenticatedIdentities: false,\\n    });\\n\\n    // See https://docs.aws.amazon.com/cognito/latest/developerguide/role-based-access-control.html\\n    const authenticatedRole = new iam.Role(this, \\\"AuthenticatedRole\\\", {\\n      assumedBy: new iam.FederatedPrincipal(\\n        \\\"cognito-identity.amazonaws.com\\\",\\n        {\\n          StringEquals: {\\n            \\\"cognito-identity.amazonaws.com:aud\\\": identityPool.ref,\\n          },\\n          \\\"ForAnyValue:StringLike\\\": {\\n            \\\"cognito-identity.amazonaws.com:amr\\\": \\\"authenticated\\\",\\n          },\\n        },\\n        \\\"sts:AssumeRoleWithWebIdentity\\\"\\n      ),\\n    });\\n\\n    new cognito.CfnIdentityPoolRoleAttachment(\\n      this,\\n      \\\"IdentityPoolRoleAttachment\\\",\\n      {\\n        identityPoolId: identityPool.ref,\\n        roles: {\\n          authenticated: authenticatedRole.roleArn,\\n        },\\n      }\\n    );\\n  }\\n}\\n\")), mdx(\"p\", null, \"A few things to notice:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Identity pool creates unique identities for the authenticated user and attaches a role to that user.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The role defines the permissions to access the AWS resources.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Both user pool & identity pool will be used when we define the ES domain.\")), mdx(\"h2\", null, \"Create an ES domain\"), mdx(\"p\", null, \"Note: Here we omitted the code to create user pool & identity pool\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\",\n    \"metastring\": \"{1,4-7,17-62}\",\n    \"{1,4-7,17-62}\": true\n  }, \"import { CfnOutput, Stack, StackProps } from \\\"aws-cdk-lib\\\";\\nimport { Construct } from \\\"constructs\\\";\\nimport * as cognito from \\\"aws-cdk-lib/aws-cognito\\\";\\nimport * as iam from \\\"aws-cdk-lib/aws-iam\\\";\\nimport * as es from \\\"aws-cdk-lib/aws-elasticsearch\\\";\\nimport { EbsDeviceVolumeType } from \\\"aws-cdk-lib/aws-ec2\\\";\\nimport { ArnPrincipal, Effect } from \\\"aws-cdk-lib/aws-iam\\\";\\n\\nexport class CdkElkStack extends Stack {\\n  constructor(scope: Construct, id: string, props?: StackProps) {\\n    super(scope, id, props);\\n\\n    // User pool ...\\n\\n    // Identity pool ...\\n\\n    // Allow Amazon ES to access Cognito\\n    const esRole = new iam.Role(this, \\\"EsRole\\\", {\\n      assumedBy: new iam.ServicePrincipal(\\\"es.amazonaws.com\\\"),\\n    });\\n    esRole.addManagedPolicy({\\n      managedPolicyArn: \\\"arn:aws:iam::aws:policy/AmazonESCognitoAccess\\\",\\n    });\\n\\n    const domain = new es.Domain(this, \\\"Elasticsearch\\\", {\\n      domainName: \\\"cdk-elk\\\",\\n      version: es.ElasticsearchVersion.V7_10,\\n      enableVersionUpgrade: true, // This allow in-place Elasticsearch version upgrade\\n      capacity: {\\n        dataNodeInstanceType: \\\"t3.small.elasticsearch\\\",\\n        dataNodes: 1, // For testing purpose, we only create 1 instance\\n      },\\n      ebs: {\\n        // Attach a 30GB GP2 volume\\n        enabled: true,\\n        volumeSize: 30,\\n        volumeType: EbsDeviceVolumeType.GP2,\\n      },\\n      accessPolicies: [\\n        // Allow authenticated users to access Kibana\\n        new iam.PolicyStatement({\\n          effect: Effect.ALLOW,\\n          principals: [new ArnPrincipal(authenticatedRole.roleArn)],\\n          actions: [\\\"es:ESHttp*\\\"],\\n          resources: [\\n            `arn:aws:es:${Stack.of(this).region}:${\\n              Stack.of(this).account\\n            }:domain/cdk-elk/*`,\\n          ],\\n        }),\\n      ],\\n      cognitoKibanaAuth: {\\n        userPoolId: userPool.userPoolId,\\n        identityPoolId: identityPool.ref,\\n        role: esRole,\\n      },\\n    });\\n\\n    new CfnOutput(this, \\\"ESKibanaUrl\\\", {\\n      description: \\\"Elastic Search Kibana Endpoint.\\\",\\n      value: `https://${domain.domainEndpoint}/_plugin/kibana/`,\\n    });\\n  }\\n}\\n\")), mdx(\"p\", null, \"What's going on here?\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"We declared an \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"IAM\"), \" role that allows Amazon ES to configure Cognito authentication for Kibana.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"We defined an ES domain with the access policies that allow the authenticated role we created previously to access it.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"We output the Kibana URL after the domain is created.\")), mdx(\"h2\", null, \"Deploy the stack\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"cdk deploy\\nThis deployment will make potentially sensitive changes according to your current security approval level (--require-approval broadening).\\nPlease confirm you intend to make the following modifications:\\n\\n...\\n\\nDo you wish to deploy these changes (y/n)? y\\nCdkElkStack: deploying...\\n[0%] start: Publishing 70893b631249dc61260989e92e90d60ae94fbbec490a1e065680d77383084d8d:current_account-current_region\\n[50%] success: Published 70893b631249dc61260989e92e90d60ae94fbbec490a1e065680d77383084d8d:current_account-current_region\\n[50%] start: Publishing a1c436cf86403b1a2ba523b01c377b6cc24eddd60e78b76c9a24e5b28b071fd8:current_account-current_region\\n[100%] success: Published a1c436cf86403b1a2ba523b01c377b6cc24eddd60e78b76c9a24e5b28b071fd8:current_account-current_region\\nCdkElkStack: creating CloudFormation changeset...\\n \\u2705  CdkElkStack\\n\\nOutputs:\\nCdkElkStack.ESKibanaUrl = https://search-cdk-elk-ez34nbicxu5vu7abr7xz5sggiu.ap-southeast-1.es.amazonaws.com/_plugin/kibana/\\n\\nStack ARN:\\narn:aws:cloudformation:ap-southeast-1:734282799255:stack/CdkElkStack/12327f80-7aa3-11ec-a781-0631acf18570\\n\")), mdx(\"h2\", null, \"Create an User in User Pool to access Kibana\"), mdx(\"p\", null, \"Go to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://console.aws.amazon.com/cognito/home\"\n  }, \"AWS Cognito console\"), \" to create a user to signin to Kibna.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"43.75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABU0lEQVQoz52R207DMAyG+/4PheABgEkgtHFYt3WrBmvTpInjxCn8KBlDA+64+OST8tuOq8e2x3PbYblXaPoR7eCw7iwWe1OYn9mH1uB+p1EfLHbKYavsN/ndrNGorm9vMF/M8fSyRD9o6NEWyHuE4JGECxIZzvvCSATj6NsaOvqWPKrd6gF2aBGjB3FEZwjKMlgm1L3H9cbgpjG4ay04BIgIpmlCSgmSpNhMEAExo6o3DfaHrgQjMd6Mx2H06EbGbNXh8rHHxaLD1fwVShs48hi0gWdGFCkxZz8KfAiomu0WvVIg9nBBMFCEZcHIAgqCNL2XaTVFGC8wnKBcKP6YfYrgmPDx8V6aVLu2BcdYBHPBhgR3xkk8C5xyFE/1Y07SVL6hrLysayitQRyKaO6SC+f2N/QnPh4rH7Kq1yt0SpX9T1f8D7mJyxOum80PQfqa4L98AhfDsfuradoLAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"user-pool-users\",\n    \"title\": \"user-pool-users\",\n    \"src\": \"/static/b5741cb47bcb0455e2ffe59ad4d0de80/7d769/user-pool-users.png\",\n    \"srcSet\": [\"/static/b5741cb47bcb0455e2ffe59ad4d0de80/5243c/user-pool-users.png 240w\", \"/static/b5741cb47bcb0455e2ffe59ad4d0de80/ab158/user-pool-users.png 480w\", \"/static/b5741cb47bcb0455e2ffe59ad4d0de80/7d769/user-pool-users.png 960w\", \"/static/b5741cb47bcb0455e2ffe59ad4d0de80/87339/user-pool-users.png 1440w\", \"/static/b5741cb47bcb0455e2ffe59ad4d0de80/b750f/user-pool-users.png 1546w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \")), mdx(\"p\", null, \"Click the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Create User\"), \" button in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Users\"), \" tab of the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Users and groups\"), \" tab.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"42.91666666666667%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAByklEQVQoz22R3WoTQRiG97ok+zv7MzO7KehJo3hqFa+i0KIX4JGoIGo3sV3a5KDegGcWBcFjwR6oq4ltyK8m6SM7adoiDrzMwLzzfO/3jRVECUEUI+KEWGkcP2DrwUN2i31e5S1e5k0eP31mzjvN1xT7bTa3to2v8oeJMoqkwo8klm3beL6HHwiU1tRsm8PDN8znc6bTKXDGbDbj6torCmqOg04zEqUuJJXCCoWHkhFaa9I041rN4aDdodvt8uX4mLIsGQ6HDAYD+v2+KdRstXA9j6xeN+9WUkpjBUIQJ4lJV1WsOS7tToder0e322M8mTAajY0q8GKxIM9zXNdlba2OVuoSqDVWGIWXwCzDdlyTcDAccnJ6alKNxhVwZFKeAXmzZQrrrE4iNVJV3aVLYBRF5lApzerYrke73eGk94uf5Q8mozF/pr+NpuPJcoa7exdAqSpQSpZlS6AQwgxz1bLwXbafFOy8+8bzt58pPpR0Ppbsvv9O6+grB5/6bD56YXzaQJSRXH1KNcNESgOUVVKZEN64TXDrPkHjLv76BqKxYXZv/Q5e4x7h9ZsoJY1/BZLn7y0RXgGeXygZo2OBTsL/qipqfFVn/+gvo+ezwupH7K0AAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"user-pool-create-user\",\n    \"title\": \"user-pool-create-user\",\n    \"src\": \"/static/21217268db92a2cb152b26f1faecae3d/7d769/user-pool-create-user.png\",\n    \"srcSet\": [\"/static/21217268db92a2cb152b26f1faecae3d/5243c/user-pool-create-user.png 240w\", \"/static/21217268db92a2cb152b26f1faecae3d/ab158/user-pool-create-user.png 480w\", \"/static/21217268db92a2cb152b26f1faecae3d/7d769/user-pool-create-user.png 960w\", \"/static/21217268db92a2cb152b26f1faecae3d/87339/user-pool-create-user.png 1440w\", \"/static/21217268db92a2cb152b26f1faecae3d/48d3e/user-pool-create-user.png 1540w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \")), mdx(\"p\", null, \"Fill in the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Username\"), \", \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Temporary password\"), \", and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Email\"), \". Check \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Mark email as verified?\"), \" and hit the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Create User\"), \" button.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"646px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"57.08333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABmUlEQVQoz42TXWsTQRRA+xcFQfEH+OCLv8GnZLP52EWRoKSsBISERn0ICQatVPK1SbXFFyGWJiAbAwnZfHWT7OzmyIwWLLZpBg53Zi5z5g4zs2cYBqlUChmTySTpdJpyubyVUqlEpVIhm82SSCTU2kv2/hXG43Esy6LX69HtdlW8DplzHIdisUgsFsM0zf+FclImc7kcs9mM+XyO67pMp1PG47FiMpmoOBwO2Ww2NBoNotHodmE+n2cwGNDv99XixWKhRBIpl5uMRiNks22bSCRyu1BKZBXL5ZKb2nq9plqtomna7UJZiRR6nkcYhgRBcAUhhKJWq+125LHr4jh9LjyPIAjxhcAXwZ/oC9a+r3I7V7jyBfPFBd5yhbcSbMLw2mM3d7uUHMUvP3nxocP+px+8/NjhdfWcfL3Lq6Mzxf5hhzfHv3h/+Bk9pmFsExYODnjy9jt3jDoPntvce9rkkXXC4+wp9581FXfNOg+tb7yrHJHQNQzDvPlhZzIZjtst2q2/tFu0bFs9Edm/HJ+efKVQKKDr+pWf8hvoDLklusjfwAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"cognito-signin\",\n    \"title\": \"cognito-signin\",\n    \"src\": \"/static/a70235a097224fd66a54561267b4c52c/87eb3/cognito-signin.png\",\n    \"srcSet\": [\"/static/a70235a097224fd66a54561267b4c52c/5243c/cognito-signin.png 240w\", \"/static/a70235a097224fd66a54561267b4c52c/ab158/cognito-signin.png 480w\", \"/static/a70235a097224fd66a54561267b4c52c/87eb3/cognito-signin.png 646w\"],\n    \"sizes\": \"(max-width: 646px) 100vw, 646px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \")), mdx(\"p\", null, \"When you log in for the first time. you will be prompted to change the temporary password.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"767px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"64.58333333333334%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABq0lEQVQ4y5WT7UvCUBTG+7ej6FO+Ndmu6wWJBAPniGYWRVFLy0/SF2u6EjX0D1A/+LLpnNsT54ZSEc0OPHB24Pz2PHd3a4wxfJUkSUilUshms8hkMlAU5ZtopqoqkskkRFFc7iz2134C4/E4isUi2u02Go0Gms3mN9Gs0+lA0zTEYjEkEolgoGma8H0fk8kEjuPAtm3eT6dTWJYFqkKhgHA4DFmW/wZSjHK5zJ3UajVUKhW0Wi0YhoFqtcpnBC2VSgiFQsFAckjLw+EQvV4P/X4fg8Fg2ZNjKjqWlRwSkJyMRiN0u13MZjPM53N4nsdF/b8iC4KAer3Ol1zXxaJ+AnVdX90hRR6PxzwiRSWRU8/3ly9Z2eHnV36FO/cwtmxY9oTLmblwXBdTOgLPx92djkgkAJhgDDs7AtrvTQTV40MRoSCHksSwy0Ro90/Yyr1h8+QFGycGohev2M6bvF9XnyFcv+P86haxaOTvi01AmYk408sQLt8Qzb8gmjcgX5tgVzXeh3PPONBbyF/eBAMXF/voMIkz9Ri5bJrrVElDU9LL55x6jP39vV//5Q9HBCIkbntJyAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"change-temp-password\",\n    \"title\": \"change-temp-password\",\n    \"src\": \"/static/89cb9dd7d72cb784954ff1d61e730630/2059a/change-temp-password.png\",\n    \"srcSet\": [\"/static/89cb9dd7d72cb784954ff1d61e730630/5243c/change-temp-password.png 240w\", \"/static/89cb9dd7d72cb784954ff1d61e730630/ab158/change-temp-password.png 480w\", \"/static/89cb9dd7d72cb784954ff1d61e730630/2059a/change-temp-password.png 767w\"],\n    \"sizes\": \"(max-width: 767px) 100vw, 767px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \")), mdx(\"p\", null, \"Once you have reset the password, log in with the new password.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"767px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"30.83333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABE0lEQVQY04WRTUsCcRCH/XxBl04dI/osbuu+/hciafOyvhySdl2I6qBGRHkRIoK2slorWQ/2sqCEZPGEC4Uk2cDD/JhhfgwzKdM0mcQwDDZzOYrFEvlCYZp8gWKpRDabRdf1n5nv+dRvQ0VVOajXiB7vad+2aN/dJDmc0FHngXK5jCzLCCFmG2qqSqN5ylW3z3n7icvOK9dRTCuKCTovnIU9wt4bu3v7SJKEENbfhrphsiZ0cv4hC+Yx85k6S+snrGw0EhbFEXOrNZbtJlveDhlZ+n9DRVG4CALGMRh+0Ou/J3TjIc+DEcPRZ9KrVquk02ksy5ptOD604zj4FQ/X3cZLcKl4bqLHNd+vYNs2mqZNPeUL0L1j4Gn6hCAAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"cognito-signin-as\",\n    \"title\": \"cognito-signin-as\",\n    \"src\": \"/static/afd3f5a8a868d37e16b4b7b7f0f0765f/2059a/cognito-signin-as.png\",\n    \"srcSet\": [\"/static/afd3f5a8a868d37e16b4b7b7f0f0765f/5243c/cognito-signin-as.png 240w\", \"/static/afd3f5a8a868d37e16b4b7b7f0f0765f/ab158/cognito-signin-as.png 480w\", \"/static/afd3f5a8a868d37e16b4b7b7f0f0765f/2059a/cognito-signin-as.png 767w\"],\n    \"sizes\": \"(max-width: 767px) 100vw, 767px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \")), mdx(\"p\", null, \"You should see this page after you log in successfully.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"773px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"89.16666666666667%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACL0lEQVQ4y42Uu24TQRSG8yK8Bs+UBioEEl1KkOhIQUmQkKgQDXQ0oUG5QXAsRzj27toEJ17vxXuf24d2nHUc+UJGOjq7M2e++c/MmdkSUrPKKqHmHg1aMe/bZFvrIDOTKA3OqIsfukgLlUtxa4GL0BoklbHKeuE14yTA3PQtxq1UuLhi4+NpSpoWpFlBkVeUpSROUpI0Jy+qJYWN31pU1nTWE45PTvl5esZZ+5zWWQfHHdBqn3NweEzfGVila4Gzn3rwFlxPKCuJrNO3ac5iykot7LFaSn8p5WZC7YUEP80ZxQlZIclyQVXJOayJXaPwbtqlVJh8SFhO+XByxcOdFtvvXYxgZfwGoKSSoMIh48tj3nhdHh8e8ODlNx7tfILOEbnQa9NeqbCs9y0vuRz7PG8fsX26z57jkLx6RvX2BYUCcW+g1PZA0kJQKUOWV6SZQAhNGgRcDv9S3Cgs7wMsyoqiKImiKWmW2zqsa7IoBYVQ+GGMMaCNsRWwFtiUyvXYx3FcPG9Ar9e3367nMZlMaJpSCl2bNlblRuDYDzj/fYE7+EPf8fC8Ia47wHE8+o5Lt9vj4qJPluVW5ay81gDtLUmnxP6INByTxBFJkhCGIXEcE0URQRAShCHGmM0K64F6c/bbV+x+6fD6c4eWF2EAUT8K2r5id5rSegOwUjbo4/cBT9/94MneCV9/jYhygZ+UTJKSaS5ulGnrldL/P2WjtVUKs4lSqrkJu7C8tRU35h9X6Gtw3YPj3wAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"kibana\",\n    \"title\": \"kibana\",\n    \"src\": \"/static/3ff59d59a58ab621615dd1e288a4a91e/dc084/kibana.png\",\n    \"srcSet\": [\"/static/3ff59d59a58ab621615dd1e288a4a91e/5243c/kibana.png 240w\", \"/static/3ff59d59a58ab621615dd1e288a4a91e/ab158/kibana.png 480w\", \"/static/3ff59d59a58ab621615dd1e288a4a91e/dc084/kibana.png 773w\"],\n    \"sizes\": \"(max-width: 773px) 100vw, 773px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \")), mdx(\"h2\", null, \"Source code\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/xwlee/cdk-elk\"\n  }, \"https://github.com/xwlee/cdk-elk\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Prerequisites Make sure you have installed  Node.js  10.13.0 or later. Make sure you have configured your workstation with your  aws_accessâ€¦","timeToRead":1,"banner":null}},"pageContext":{"slug":"/setup-an-elk-stack-using-aws-cdk","formatString":"DD.MM.YYYY"}},
    "staticQueryHashes": ["2744905544","3090400250","318001574"]}